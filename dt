<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Ultra Think Priority Deduction Tree</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <style>
    :root {
      --bg: #000000;
      --fg: #ff9100;
      --fg-muted: #ffb347;
      --accent: #ff9100;
      --danger: #ff3b3b;
      --success: #29ff7f;
      --border: #333333;
    }

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      background-color: var(--bg);
      color: var(--fg);
      font-family: "Stencil", "OCR A Extended", "Consolas", "Courier New", "Lucida Console", monospace;
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 16px;
    }

    .app {
      max-width: 600px;
      width: 100%;
      border: 1px solid var(--border);
      border-radius: 16px;
      padding: 20px;
      background: radial-gradient(circle at top, #111111, #000000 60%);
      box-shadow: 0 0 25px rgba(255, 145, 0, 0.35);
      position: relative;
      overflow: hidden;
    }

    .title {
      text-transform: uppercase;
      letter-spacing: 0.18em;
      font-size: 0.8rem;
      margin-bottom: 4px;
      color: var(--fg-muted);
    }

    .headline {
      font-size: 1.3rem;
      font-weight: 700;
      margin-bottom: 12px;
      text-transform: uppercase;
    }

    .card {
      border: 1px solid var(--border);
      border-radius: 12px;
      padding: 18px 16px;
      min-height: 210px;
      position: relative;
      overflow: hidden;
      transition: transform 0.15s ease-out, box-shadow 0.15s ease-out;
    }

    .card.swiping-right {
      transform: translateX(10px) rotate(1deg);
      box-shadow: 0 0 20px rgba(41, 255, 127, 0.3);
    }

    .card.swiping-left {
      transform: translateX(-10px) rotate(-1deg);
      box-shadow: 0 0 20px rgba(255, 59, 59, 0.3);
    }

    .step-label {
      font-size: 0.75rem;
      text-transform: uppercase;
      letter-spacing: 0.18em;
      color: var(--fg-muted);
      margin-bottom: 6px;
    }

    .question {
      font-size: 1.05rem;
      margin-bottom: 12px;
    }

    .description {
      font-size: 0.85rem;
      color: var(--fg-muted);
      margin-bottom: 12px;
    }

    .tags {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      margin-top: 6px;
      margin-bottom: 6px;
    }

    .tag {
      border-radius: 999px;
      border: 1px solid var(--border);
      padding: 3px 8px;
      font-size: 0.7rem;
      text-transform: uppercase;
      letter-spacing: 0.1em;
    }

    .tag-soft {
      border-color: var(--fg-muted);
      color: var(--fg-muted);
    }

    .examples-toggle {
      margin-top: 10px;
      font-size: 0.8rem;
      text-transform: uppercase;
      letter-letter-spacing: 0.12em;
      padding: 4px 8px;
      border-radius: 999px;
      border: 1px solid var(--border);
      background: transparent;
      color: var(--fg);
      cursor: pointer;
    }

    .examples {
      font-size: 0.8rem;
      margin-top: 10px;
      color: var(--fg-muted);
    }

    .examples ul {
      margin-top: 4px;
      padding-left: 18px;
    }

    .overlay-label {
      position: absolute;
      top: 12px;
      font-size: 0.8rem;
      font-weight: 700;
      padding: 4px 10px;
      border-radius: 999px;
      text-transform: uppercase;
      letter-spacing: 0.14em;
      opacity: 0;
      transform: translateY(-10px);
      transition: opacity 0.15s ease-out, transform 0.15s ease-out;
      pointer-events: none;
    }

    .overlay-yes {
      right: 12px;
      border: 1px solid var(--success);
      color: var(--success);
      background: rgba(41, 255, 127, 0.06);
    }

    .overlay-no {
      left: 12px;
      border: 1px solid var(--danger);
      color: var(--danger);
      background: rgba(255, 59, 59, 0.06);
    }

    .overlay-label.visible {
      opacity: 1;
      transform: translateY(0);
    }

    .footer {
      margin-top: 14px;
      display: flex;
      justify-content: space-between;
      font-size: 0.75rem;
      color: var(--fg-muted);
      text-transform: uppercase;
      letter-spacing: 0.15em;
    }

    .footer-right {
      text-align: right;
    }

    .category-badge {
      display: inline-flex;
      align-items: center;
      gap: 4px;
      font-size: 0.8rem;
      padding: 4px 10px;
      border-radius: 999px;
      border: 1px solid var(--accent);
      margin-bottom: 10px;
    }

    .result-title {
      font-size: 1.1rem;
      font-weight: 700;
      margin-bottom: 8px;
      text-transform: uppercase;
    }

    .result-definition {
      font-size: 0.85rem;
      color: var(--fg-muted);
      margin-bottom: 10px;
    }

    .result-examples ul {
      font-size: 0.8rem;
      padding-left: 18px;
      color: var(--fg-muted);
    }

    .restart-btn {
      margin-top: 14px;
      font-size: 0.8rem;
      text-transform: uppercase;
      letter-spacing: 0.14em;
      padding: 6px 10px;
      border-radius: 999px;
      border: 1px solid var(--accent);
      background: transparent;
      color: var(--fg);
      cursor: pointer;
    }
  </style>
</head>
<body>
  <div class="app">
    <div class="title">Ultra Think</div>
    <div class="headline">Priority Deduction Tree</div>

    <div id="card" class="card">
      <div class="overlay-label overlay-yes" id="overlayYes">YES ‚ñ∂</div>
      <div class="overlay-label overlay-no" id="overlayNo">‚óÄ NO</div>

      <div id="stepLabel" class="step-label"></div>
      <div id="question" class="question"></div>
      <div id="description" class="description"></div>

      <div id="tags" class="tags"></div>

      <button id="examplesToggle" class="examples-toggle" type="button">
        SHOW EXAMPLES
      </button>
      <div id="examples" class="examples" style="display:none;"></div>
    </div>

    <div class="footer">
      <div class="footer-left" id="footerLeft">STEP 1</div>
      <div class="footer-right" id="footerRight">ONE TASK. ONE FOCUS.</div>
    </div>
  </div>

  <script>
    const nodes = {
      step1: {
        id: "step1",
        type: "question",
        stepLabel: "STEP 1 ‚Äî FIRST QUESTION",
        question: "Does this actually matter?",
        description: "If NO ‚Üí STOP. DELETE. (üóëÔ∏è)",
        tags: ["Root Check"],
        examplesTitle: "Clarifying questions:",
        examples: [
          "Does this task connect to any real goal or responsibility?",
          "Will anyone care if this is never done?",
          "Is this tied to something you truly value?"
        ],
        yesNext: "step2",
        noNext: "resultDelete"
      },
      step2: {
        id: "step2",
        type: "question",
        stepLabel: "STEP 2 ‚Äî CONSEQUENCE FILTER",
        question: "If you don‚Äôt do this TODAY, will there be real consequences?",
        description: "If YES ‚Üí üî• EMERGENCY.",
        tags: ["Consequence", "Time-Sensitive"],
        examplesTitle: "Generic Emergency Examples:",
        examples: [
          "Missing a deadline with penalties",
          "Not submitting required forms",
          "Not preparing something needed for today",
          "Actions that prevent harm, loss, or major problems"
        ],
        yesNext: "resultEmergency",
        noNext: "step3"
      },
      step3: {
        id: "step3",
        type: "question",
        stepLabel: "STEP 3 ‚Äî TRAJECTORY FILTER",
        question: "Will this meaningfully move your life, work, or long-term goals forward?",
        description: "If YES ‚Üí üéØ MISSION-CRITICAL.",
        tags: ["Long-Term", "Leverage"],
        examplesTitle: "Generic Mission-Critical Examples:",
        examples: [
          "Progress on an important career, business, or creative project",
          "Skill-building that improves your future opportunities",
          "Health or fitness habits that compound over time",
          "Actions that improve relationships or long-term stability"
        ],
        yesNext: "resultMissionCritical",
        noNext: "step4"
      },
      step4: {
        id: "step4",
        type: "question",
        stepLabel: "STEP 4 ‚Äî SYSTEM STABILITY FILTER",
        question: "Does this maintain a system that will break down without upkeep?",
        description: "Think: routines, responsibilities, infrastructure, communication.",
        tags: ["Stability", "Upkeep"],
        examplesTitle: "Generic Maintenance Examples:",
        examples: [
          "Paying bills",
          "Cleaning and home upkeep",
          "Regular planning or scheduling",
          "Inbox clearing and essential communication",
          "Ongoing work responsibilities"
        ],
        yesNext: "resultMaintenance",
        noNext: "step5"
      },
      step5: {
        id: "step5",
        type: "question",
        stepLabel: "STEP 5 ‚Äî VALUE FILTER",
        question: "Is this nice to do, but nothing bad happens if you delay it?",
        description: "If YES ‚Üí ü™∂ ELECTIVE.",
        tags: ["Optional", "Low-Impact"],
        examplesTitle: "Generic Elective Examples:",
        examples: [
          "Organizing digital files",
          "Optional creative projects",
          "Aesthetic improvements",
          "‚ÄúWould be nice‚Äù but not required tasks"
        ],
        yesNext: "resultElective",
        noNext: "step6"
      },
      step6: {
        id: "step6",
        type: "question",
        stepLabel: "STEP 6 ‚Äî GUILT FILTER",
        question: "Are you considering this task only because of guilt, pressure, or 'should' thinking?",
        description: "If YES ‚Üí üóëÔ∏è DELETE.",
        tags: ["Guilt", "Pressure"],
        examplesTitle: "Generic Delete Examples:",
        examples: [
          "Tasks done out of obligation instead of value",
          "Unnecessary perfectionism",
          "Busywork",
          "Activities that don‚Äôt move your goals forward",
          "Projects that are no longer meaningful"
        ],
        yesNext: "resultDelete",
        noNext: "resultReview"
      },

      resultEmergency: {
        id: "resultEmergency",
        type: "result",
        category: "üî• EMERGENCY",
        badge: "DO THIS TODAY",
        definition: "Must be done today or there are consequences.",
        examplesTitle: "Examples:",
        examples: [
          "Deadlines with penalties",
          "Time-sensitive commitments",
          "Issues that prevent harm, loss, or disruption"
        ],
        action: "Treat this as an EMERGENCY task. Do it ASAP."
      },
      resultMissionCritical: {
        id: "resultMissionCritical",
        type: "result",
        category: "üéØ MISSION-CRITICAL",
        badge: "HIGH LEVERAGE",
        definition: "Moves your life, work, or goals forward.",
        examplesTitle: "Examples:",
        examples: [
          "Career or business growth",
          "Important long-term projects",
          "Health routines that build your future",
          "Relationship investment"
        ],
        action: "Schedule deep focus time. This is high priority."
      },
      resultMaintenance: {
        id: "resultMaintenance",
        type: "result",
        category: "üßπ MAINTENANCE",
        badge: "UPKEEP",
        definition: "Keeps your systems functional.",
        examplesTitle: "Examples:",
        examples: [
          "Cleaning and upkeep",
          "Planning and scheduling",
          "Essential communication",
          "Routine responsibilities"
        ],
        action: "Place this into a recurring routine."
      },
      resultElective: {
        id: "resultElective",
        type: "result",
        category: "ü™∂ ELECTIVE",
        badge: "OPTIONAL",
        definition: "Nice, optional, low-impact.",
        examplesTitle: "Examples:",
        examples: [
          "Organizing files",
          "Optional creative tasks",
          "Non-essential improvements"
        ],
        action: "Do this only when essentials are done."
      },
      resultDelete: {
        id: "resultDelete",
        type: "result",
        category: "üóëÔ∏è DELETE",
        badge: "REMOVE",
        definition: "Noise, guilt, vanity, or habit.",
        examplesTitle: "Examples:",
        examples: [
          "Busywork",
          "‚ÄúShould do‚Äù tasks",
          "Unnecessary perfectionism",
          "Anything draining energy without benefit"
        ],
        action: "Remove this from your list without guilt."
      },
      resultReview: {
        id: "resultReview",
        type: "result",
        category: "üîé REVIEW",
        badge: "CHOOSE PATH",
        definition: "Not guilt-based, not urgent, not harmful to delay.",
        examplesTitle: "Next Steps:",
        examples: [
          "Ask: does this prevent breakdown ‚Üí Maintenance",
          "Ask: is it just nice-to-have ‚Üí Elective",
          "If neither: consider deleting."
        ],
        action: "Choose classification consciously."
      }
    };

    let currentId = "step1";

    const cardEl = document.getElementById("card");
    const stepLabelEl = document.getElementById("stepLabel");
    const questionEl = document.getElementById("question");
    const descriptionEl = document.getElementById("description");
    const tagsEl = document.getElementById("tags");
    const examplesEl = document.getElementById("examples");
    const examplesToggleEl = document.getElementById("examplesToggle");
    const footerLeftEl = document.getElementById("footerLeft");
    const footerRightEl = document.getElementById("footerRight");
    const overlayYesEl = document.getElementById("overlayYes");
    const overlayNoEl = document.getElementById("overlayNo");

    let touchStartX = null;
    const swipeThreshold = 50;

    function renderNode(id) {
      currentId = id;
      const node = nodes[id];
      examplesEl.style.display = "none";
      examplesToggleEl.textContent = "SHOW EXAMPLES";

      if (node.type === "question") {
        stepLabelEl.textContent = node.stepLabel;
        questionEl.textContent = node.question;
        descriptionEl.textContent = node.description;
        renderTags(node.tags || []);
        renderExamples(node.examplesTitle, node.examples);
        footerLeftEl.textContent = node.stepLabel.split("‚Äî")[0].trim();
        footerRightEl.textContent = "Swipe left or right";
      }

      if (node.type === "result") {
        stepLabelEl.textContent = "FINAL CATEGORY";
        questionEl.innerHTML = `
          <div class="category-badge">
            <span>${node.category}</span>
            <span>‚Ä¢ ${node.badge}</span>
          </div>
          <div class="result-title">${node.category}</div>
        `;
        descriptionEl.innerHTML = `
          <div class="result-definition">${node.definition}</div>
          <div>${node.action}</div>
        `;
        renderTags([node.badge]);
        renderExamples(node.examplesTitle, node.examples, true);
        footerLeftEl.textContent = "END";
        footerRightEl.textContent = "";

        if (!document.getElementById("restartBtn")) {
          const btn = document.createElement("button");
          btn.id = "restartBtn";
          btn.className = "restart-btn";
          btn.textContent = "RESTART";
          btn.addEventListener("click", () => {
            renderNode("step1");
            btn.remove();
          });
          cardEl.appendChild(btn);
        }
      }

      if (node.type !== "result") {
        const restartBtn = document.getElementById("restartBtn");
        if (restartBtn) restartBtn.remove();
      }
    }

    function renderTags(tags) {
      tagsEl.innerHTML = "";
      tags.forEach((tagText) => {
        const span = document.createElement("span");
        span.className = "tag tag-soft";
        span.textContent = tagText;
        tagsEl.appendChild(span);
      });
    }

    function renderExamples(title, items) {
      if (!items) return;
      examplesEl.innerHTML = `
        <div class="result-examples">
          <strong>${title}</strong>
          <ul>${items.map(i => `<li>${i}</li>`).join("")}</ul>
        </div>
      `;
    }

    function handleYes() {
      flashOverlay("yes");
      renderNode(nodes[currentId].yesNext);
    }

    function handleNo() {
      flashOverlay("no");
      renderNode(nodes[currentId].noNext);
    }

    function flashOverlay(direction) {
      const el = direction === "yes" ? overlayYesEl : overlayNoEl;
      const cardClass = direction === "yes" ? "swiping-right" : "swiping-left";

      el.classList.add("visible");
      cardEl.classList.add(cardClass);

      setTimeout(() => {
        el.classList.remove("visible");
        cardEl.classList.remove(cardClass);
      }, 180);
    }

    cardEl.addEventListener("touchstart", (e) => {
      touchStartX = e.touches[0].clientX;
    });

    cardEl.addEventListener("touchend", (e) => {
      const endX = e.changedTouches[0].clientX;
      const dx = endX - touchStartX;
      if (Math.abs(dx) > swipeThreshold) {
        if (dx > 0) handleYes();
        else handleNo();
      }
      touchStartX = null;
    });

    let mouseDown = false;
    let mouseStartX = null;

    cardEl.addEventListener("mousedown", (e) => {
      mouseDown = true;
      mouseStartX = e.clientX;
    });

    window.addEventListener("mouseup", (e) => {
      if (!mouseDown) return;
      const dx = e.clientX - mouseStartX;
      if (Math.abs(dx) > swipeThreshold) {
        if (dx > 0) handleYes();
        else handleNo();
      }
      mouseDown = false;
      mouseStartX = null;
    });

    window.addEventListener("keydown", (e) => {
      if (e.key === "ArrowRight") handleYes();
      if (e.key === "ArrowLeft") handleNo();
    });

    examplesToggleEl.addEventListener("click", () => {
      if (examplesEl.style.display === "none") {
        examplesEl.style.display = "block";
        examplesToggleEl.textContent = "HIDE EXAMPLES";
      } else {
        examplesEl.style.display = "none";
        examplesToggleEl.textContent = "SHOW EXAMPLES";
      }
    });

    renderNode("step1");
  </script>
</body>
</html>
